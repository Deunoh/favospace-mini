<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favospace bookmarks interface</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-top">
                <h1>Favospace <span id="bookmarks-title">bookmarks</span></h1>
                
                <!-- Menu hamburger pour mobile -->
                <button id="mobileMenuBtn" class="mobile-menu-btn" title="Menu">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                
                <!-- Boutons desktop -->
                <div class="header-buttons-right">
                    <button id="saveTabsBtn" class="dark-mode-toggle" title="Sauvegarder les onglets ouverts">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                            <polyline points="17 21 17 13 7 13 7 21"></polyline>
                            <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                    </button>
                    <button id="restoreTabsBtn" class="dark-mode-toggle" title="Restaurer les onglets sauvegard√©s" style="display: none;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="1 4 1 10 7 10"></polyline>
                            <polyline points="23 20 23 14 17 14"></polyline>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                        </svg>
                    </button>
                    <button id="bookmarkManagerBtn" class="dark-mode-toggle" title="Ouvrir le gestionnaire de favoris">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-settings-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11.231 20.828a1.668 1.668 0 0 1 -.906 -1.145a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c.509 .123 .87 .421 1.084 .792" /><path d="M14.882 11.165a3.001 3.001 0 1 0 -4.31 3.474" /><path d="M18 22l3.35 -3.284a2.143 2.143 0 0 0 .005 -3.071a2.242 2.242 0 0 0 -3.129 -.006l-.224 .22l-.223 -.22a2.242 2.242 0 0 0 -3.128 -.006a2.143 2.143 0 0 0 -.006 3.071l3.355 3.296z" /></svg>
                    </button>
                    <button id="darkModeToggle" class="dark-mode-toggle" title="Activer/d√©sactiver le mode sombre">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="keyboard-shortcut-info">
                <p class="tip-item active">
                    üí° Astuce : Utilisez <kbd>Alt</kbd> + <kbd>Maj</kbd> + <kbd>F</kbd> pour une recherche rapide depuis n'importe quel onglet (sauf celui-ci !)
                </p>
                <p class="tip-item">
                    üí° Astuce : Utilisez le <span class="bookmark-manager-link-tip">gestionnaire de favoris</span> pour sauvegarder ou importer vos favoris
                </p>
                <p class="tip-item">
                    üí° Astuce : Sauvegardez vos onglets actuels et restaurez-les plus tard avec les boutons üíæ et üîÑ en haut √† droite
                </p>
                <p class="tip-item">
                    üí° Astuce : Cliquez sur l'ic√¥ne de l'extension pour g√©rer vos espaces de travail et organiser vos onglets par th√®me (Travail, Perso...)
                </p>
            </div>
            <div class="search-container">
                <div class="search-input-container">
                    <input type="text" id="searchInput" placeholder="Rechercher dans les favoris...">
                    <button type="button" id="clearSearchBtn" class="clear-search-btn" title="Effacer la recherche">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="header-buttons">
                    <button id="toggleAllBtn" class="btn-secondary">üìÅ Tout ouvrir</button>
                    <button id="addBookmarkBtn" class="btn-primary">+ Ajouter un favori</button>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div id="bookmarksContainer" class="bookmarks-container">
                <!-- favoris ici par le js -->
            </div>
        </main>

        <!-- Modal pour ajouter/modifier un favori -->
        <div id="bookmarkModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="modalTitle">Ajouter un favori</h2>
                <form id="bookmarkForm">
                    <div class="form-group">
                        <label for="bookmarkTitle">Titre:</label>
                        <input type="text" id="bookmarkTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="bookmarkUrl">URL:</label>
                        <input type="url" id="bookmarkUrl" required>
                    </div>
                    <div class="form-group">
                        <label for="bookmarkFolder">Dossier parent:</label>
                        <div class="folder-selection">
                            <select id="bookmarkFolder">
                                <!-- Les dossiers seront charg√©s ici -->
                            </select>
                            <button type="button" id="createFolderBtn" class="btn-secondary create-folder-btn">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                                    <line x1="12" y1="11" x2="12" y2="17"></line>
                                    <line x1="9" y1="14" x2="15" y2="14"></line>
                                </svg>
                                Nouveau dossier
                            </button>
                        </div>
                    </div>
                    <div class="form-group" id="newFolderGroup" style="display: none;">
                        <label for="newFolderName">Nom du nouveau dossier:</label>
                        <input type="text" id="newFolderName" placeholder="Entrez le nom du dossier">
                        <button type="button" id="cancelNewFolderBtn" class="btn-link">Annuler</button>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="cancelBtn" class="btn-secondary">Annuler</button>
                        <button type="submit" class="btn-primary">Sauvegarder</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal de confirmation de suppression -->
        <div id="deleteModal" class="modal">
            <div class="modal-content">
                <h2>Confirmer la suppression</h2>
                <p>√ätes-vous s√ªr de vouloir supprimer ce favori ?</p>
                <div class="form-actions">
                    <button id="cancelDeleteBtn" class="btn-secondary">Annuler</button>
                    <button id="confirmDeleteBtn" class="btn-danger">Supprimer</button>
                </div>
            </div>
        </div>

        <!-- Modal de confirmation de suppression de dossier -->
        <div id="deleteFolderModal" class="modal">
            <div class="modal-content">
                <h2>Confirmer la suppression du dossier</h2>
                <p>√ätes-vous s√ªr de vouloir supprimer le dossier "<strong id="deleteFolderName"></strong>" et tout son contenu ?</p>
                <p class="warning-text">‚ö†Ô∏è Cette action est irr√©versible et supprimera tous les favoris contenus dans ce dossier.</p>
                <div class="form-actions">
                    <button id="cancelDeleteFolderBtn" class="btn-secondary">Annuler</button>
                    <button id="confirmDeleteFolderBtn" class="btn-danger">Supprimer le dossier</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Menu d√©roulant mobile (en dehors du container pour √©viter les probl√®mes de z-index) -->
    <div id="mobileMenu" class="mobile-menu">
        <button id="saveTabsBtnMobile" class="mobile-menu-item">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                <polyline points="17 21 17 13 7 13 7 21"></polyline>
                <polyline points="7 3 7 8 15 8"></polyline>
            </svg>
            <span>Sauvegarder les onglets</span>
        </button>
        <button id="restoreTabsBtnMobile" class="mobile-menu-item" style="display: none;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="1 4 1 10 7 10"></polyline>
                <polyline points="23 20 23 14 17 14"></polyline>
                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
            </svg>
            <span>Restaurer les onglets</span>
        </button>
        <button id="bookmarkManagerBtnMobile" class="mobile-menu-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-settings-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11.231 20.828a1.668 1.668 0 0 1 -.906 -1.145a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c.509 .123 .87 .421 1.084 .792" /><path d="M14.882 11.165a3.001 3.001 0 1 0 -4.31 3.474" /><path d="M18 22l3.35 -3.284a2.143 2.143 0 0 0 .005 -3.071a2.242 2.242 0 0 0 -3.129 -.006l-.224 .22l-.223 -.22a2.242 2.242 0 0 0 -3.128 -.006a2.143 2.143 0 0 0 -.006 3.071l3.355 3.296z" /></svg>
            <span>Gestionnaire de favoris</span>
        </button>
        <button id="darkModeToggleMobile" class="mobile-menu-item">
            <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
            <span>Changer le th√®me</span>
        </button>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/newtab.js"></script>
</body>
</html>